<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiến trúc Hệ thống POD Hybrid (Headless Shopify)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f8fafc; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .box { border-radius: 12px; transition: all 0.3s ease; }
        .box:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .connector { stroke: #64748b; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
        .tracking-connector { stroke: #a855f7; stroke-width: 1.5; stroke-dasharray: 4; fill: none; marker-end: url(#arrowhead-purple); }
        .ab-connector { stroke: #06b6d4; stroke-width: 1.5; stroke-dasharray: 3; fill: none; marker-end: url(#arrowhead-cyan); }
        .review-connector { stroke: #f59e0b; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead-orange); }
        .design-connector { stroke: #ec4899; stroke-width: 2; fill: none; marker-end: url(#arrowhead-pink); }
        .promo-connector { stroke: #10b981; stroke-width: 1.5; stroke-dasharray: 2; fill: none; marker-end: url(#arrowhead-green); }
        .post-connector { stroke: #3b82f6; stroke-width: 1.5; stroke-dasharray: 3; fill: none; marker-end: url(#arrowhead-blue); }
        .label { font-size: 11px; font-weight: 600; fill: #1e293b; }
    </style>
</head>
<body class="p-8">
    <div class="max-w-6xl mx-auto bg-white p-10 rounded-2xl shadow-xl border border-slate-200">
        <h1 class="text-3xl font-bold text-slate-800 mb-2 text-center">Kiến trúc Hệ thống Website POD Hybrid</h1>
        <p class="text-slate-500 text-center mb-10">Mô hình Headless: Shopify + Next.js + Personalizer Engine (Teeinblue Style)</p>

        <svg viewBox="0 0 1000 1250" xmlns="http://www.w3.org/2000/svg">
            <!-- Arrows Definition -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
                </marker>
                <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#a855f7" />
                </marker>
                <marker id="arrowhead-cyan" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4" />
                </marker>
                <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b" />
                </marker>
                <marker id="arrowhead-pink" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#ec4899" />
                </marker>
                <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#10b981" />
                </marker>
                <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6" />
                </marker>
                <filter id="shadow">
                    <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.1"/>
                </filter>
            </defs>

            <!-- SECTION: A/B TESTING ENGINE -->
            <rect x="50" y="20" width="300" height="80" rx="15" fill="#ecfeff" stroke="#0891b2" stroke-width="2" />
            <text x="70" y="45" class="label" fill="#0891b2">A/B TESTING LAYER</text>
            <rect x="70" y="55" width="120" height="35" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="130" y="77" text-anchor="middle" font-size="9" class="label">Traffic Splitter</text>
            <rect x="200" y="55" width="130" height="35" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="265" y="77" text-anchor="middle" font-size="9" class="label">Variant Manager</text>

            <!-- SECTION: PROMOTIONS & MARKETING -->
            <rect x="370" y="20" width="280" height="80" rx="15" fill="#f0fdf4" stroke="#10b981" stroke-width="2" />
            <text x="385" y="45" class="label" fill="#10b981">MARKETING & PROMOTIONS</text>
            <rect x="385" y="55" width="120" height="35" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="445" y="77" text-anchor="middle" font-size="9" class="label">Coupon Engine</text>
            <rect x="515" y="55" width="120" height="35" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="575" y="77" text-anchor="middle" font-size="9" class="label">Upsell / Cross-sell</text>

            <!-- SECTION: REVIEW & SOCIAL PROOF -->
            <rect x="680" y="20" width="220" height="150" rx="15" fill="#fffbeb" stroke="#f59e0b" stroke-width="2" />
            <text x="695" y="45" class="label" fill="#f59e0b">REVIEWS & SOCIAL PROOF</text>
            <rect x="700" y="60" width="180" height="40" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="790" y="85" text-anchor="middle" class="label">Review Widget</text>
            <rect x="700" y="110" width="180" height="40" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="790" y="135" text-anchor="middle" class="label">Photo/Video UGC</text>

            <!-- SECTION: PRODUCT PERSONALIZER -->
            <rect x="50" y="140" width="600" height="120" rx="15" fill="#fdf2f8" stroke="#db2777" stroke-width="2" />
            <text x="70" y="165" class="label" fill="#db2777">PRODUCT PERSONALIZER ENGINE (Teeinblue Style)</text>
            
            <rect x="70" y="180" width="170" height="60" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="155" y="210" text-anchor="middle" class="label">Live Preview Canvas</text>
            <text x="155" y="225" text-anchor="middle" font-size="8" fill="#9d174d">(React/Konva.js)</text>

            <rect x="255" y="180" width="170" height="60" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="340" y="210" text-anchor="middle" class="label">ClipArt & Font Lib</text>
            <text x="340" y="225" text-anchor="middle" font-size="8" fill="#9d174d">(Asset Management)</text>

            <rect x="440" y="180" width="180" height="60" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="530" y="210" text-anchor="middle" class="label">Print-Ready Generator</text>
            <text x="530" y="225" text-anchor="middle" font-size="8" fill="#9d174d">(300 DPI PDF/PNG)</text>

            <!-- SECTION 1: FRONTEND LAYER -->
            <rect x="50" y="320" width="600" height="150" rx="15" fill="#eff6ff" stroke="#3b82f6" stroke-width="2" stroke-dasharray="5,5" />
            <text x="60" y="345" class="label" fill="#3b82f6">FRONTEND LAYER (Next.js)</text>
            
            <rect x="80" y="370" width="180" height="70" rx="10" fill="white" filter="url(#shadow)" class="box" />
            <text x="170" y="400" text-anchor="middle" class="label">Customizer Interface</text>
            <text x="170" y="420" text-anchor="middle" font-size="9" fill="#64748b">(Promo Banners Display)</text>

            <rect x="300" y="370" width="180" height="70" rx="10" fill="white" filter="url(#shadow)" class="box" />
            <text x="390" y="400" text-anchor="middle" class="label">Smart Cart</text>
            <text x="390" y="420" text-anchor="middle" font-size="9" fill="#64748b">(Dynamic Upsells)</text>

            <!-- SECTION: TRACKING LAYER -->
            <rect x="720" y="320" width="180" height="420" rx="15" fill="#faf5ff" stroke="#a855f7" stroke-width="2" />
            <text x="730" y="345" class="label" fill="#a855f7">TRACKING LAYER</text>
            <rect x="740" y="370" width="140" height="60" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="810" y="405" text-anchor="middle" class="label">CAPI / Analytics</text>

            <!-- Connections -->
            <path d="M510 100 L510 320" class="promo-connector" />
            <path d="M340 260 L340 320" class="design-connector" />
            <path d="M530 260 L680 520" class="design-connector" stroke-dasharray="4" />

            <!-- SECTION 2: BACKEND ENGINE -->
            <path d="M170 470 L170 530" class="connector" />
            <path d="M390 470 L390 530" class="connector" />

            <rect x="50" y="540" width="600" height="240" rx="15" fill="#f0fdf4" stroke="#22c55e" stroke-width="2" />
            <text x="60" y="565" class="label" fill="#22c55e">SHOPIFY BACKEND ENGINE</text>

            <rect x="80" y="590" width="170" height="60" rx="8" fill="white" filter="url(#shadow)" />
            <text x="165" y="625" text-anchor="middle" class="label">Storefront API</text>
            
            <rect x="270" y="590" width="170" height="60" rx="8" fill="white" filter="url(#shadow)" />
            <text x="355" y="615" text-anchor="middle" class="label">Discount Logic</text>
            <text x="355" y="635" text-anchor="middle" font-size="9" fill="#15803d">(Buy X Get Y / Bundles)</text>

            <rect x="460" y="590" width="170" height="60" rx="8" fill="#ecfdf5" stroke="#10b981" filter="url(#shadow)" />
            <text x="545" y="625" text-anchor="middle" class="label">Orders & Print Assets</text>

            <!-- SECTION: POST-PURCHASE & LOYALTY (NEW) -->
            <rect x="80" y="670" width="550" height="90" rx="10" fill="#f0f9ff" stroke="#0ea5e9" stroke-width="1.5" />
            <text x="95" y="690" class="label" fill="#0369a1">POST-PURCHASE & LOYALTY MODULE</text>
            <rect x="95" y="700" width="160" height="40" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="175" y="725" text-anchor="middle" font-size="9" class="label">Loyalty Points (Smile.io)</text>
            <rect x="265" y="700" width="160" height="40" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="345" y="725" text-anchor="middle" font-size="9" class="label">Post-Purchase Upsell</text>
            <rect x="435" y="700" width="180" height="40" rx="8" fill="white" filter="url(#shadow)" class="box" />
            <text x="525" y="725" text-anchor="middle" font-size="9" class="label">Referral Program</text>

            <!-- SECTION 3: POD FULFILLMENT -->
            <path d="M355 780 L355 840" class="connector" />
            
            <rect x="50" y="850" width="850" height="120" rx="15" fill="#fff7ed" stroke="#f97316" stroke-width="2" />
            <text x="60" y="875" class="label" fill="#f97316">POD FULFILLMENT PARTNER (Automated Sync)</text>

            <rect x="100" y="895" width="300" height="50" rx="8" fill="white" filter="url(#shadow)" />
            <text x="250" y="925" text-anchor="middle" class="label">Automatic Ingestion of Designs</text>

            <rect x="550" y="895" width="300" height="50" rx="8" fill="white" filter="url(#shadow)" />
            <text x="700" y="925" text-anchor="middle" class="label">Quality Check & Print</text>

            <!-- FOOTER LEGEND -->
            <rect x="50" y="1000" width="850" height="60" rx="10" fill="#f1f5f9" />
            <text x="70" y="1035" font-size="11" fill="#475569">
                <tspan font-weight="bold">Post-Purchase & Loyalty:</tspan> Module giúp tăng LTV (Giá trị vòng đời khách hàng). Sau khi mua, khách được tích điểm, gợi ý mua thêm ưu đãi và khuyến khích giới thiệu bạn bè.
            </text>
        </svg>

        <div class="mt-8 grid grid-cols-4 gap-4 text-xs">
            <div class="p-3 bg-blue-50 rounded-lg border border-blue-100">
                <h3 class="font-bold text-blue-700 mb-1">Loyalty Points</h3>
                <p class="text-blue-600">Khách hàng tích điểm từ mỗi đơn hàng để đổi voucher cho lần mua sau, giúp họ quay lại cửa hàng nhiều hơn.</p>
            </div>
            <div class="p-3 bg-sky-50 rounded-lg border border-sky-100">
                <h3 class="font-bold text-sky-700 mb-1">Post-Purchase Upsell</h3>
                <p class="text-sky-600">Hiển thị ưu đãi "Mua thêm 1 cái nữa giảm 50%" ngay sau khi khách bấm thanh toán nhưng chưa rời khỏi trang.</p>
            </div>
            <div class="p-3 bg-indigo-50 rounded-lg border border-indigo-100">
                <h3 class="font-bold text-indigo-700 mb-1">Referral System</h3>
                <p class="text-indigo-600">Hệ thống "Tặng 5$ cho bạn và 5$ cho người giới thiệu", biến khách hàng thành cộng tác viên quảng cáo miễn phí.</p>
            </div>
            <div class="p-3 bg-slate-50 rounded-lg border border-slate-100">
                <h3 class="font-bold text-slate-700 mb-1">Unified Data Sync</h3>
                <p class="text-slate-600">Đồng bộ toàn bộ lịch sử mua hàng và điểm thưởng vào hồ sơ khách hàng (Customer Profile) trên hệ thống quản lý.</p>
            </div>
        </div>
    </div>
</body>
</html>
